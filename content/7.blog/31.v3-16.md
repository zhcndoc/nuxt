---
title: Nuxt 3.16
description: Nuxt 3.16 å·²å‘å¸ƒ - packed with features and performance improvements
navigation: false
image: /assets/blog/v3.16.png
authors:
  - name: Daniel Roe
    avatar:
      src: https://github.com/danielroe.png
    link: https://bsky.app/profile/danielroe.dev
date: 2025-03-07T10:00:00.000Z
category: Release
---

è¿™æ¬¡æ›´æ–°å†…å®¹ä¸°å¯Œï¼

## âš¡ï¸ ä¸€ä¸ªå…¨æ–°çš„ Nuxt

æ¬¢è¿ä½¿ç”¨ `create-nuxt`ï¼Œä¸€ä¸ªå¯åŠ¨ Nuxt é¡¹ç›®çš„æ–°å·¥å…·ï¼ˆæ„Ÿè°¢ [@devgar](https://github.com/devgar) æèµ çš„åŒ…åï¼‰ï¼

å®ƒæ˜¯ `nuxi init` çš„ç²¾ç®€ç‰ˆ - ä½“ç§¯åªæœ‰å…­åˆ†ä¹‹ä¸€ï¼Œæ‰€æœ‰ä¾èµ–é¡¹éƒ½å†…è”æ‰“åŒ…ä¸ºä¸€ä¸ªå•ç‹¬æ–‡ä»¶ï¼Œå¸®åŠ©æ‚¨å°½å¿«å¼€å§‹ã€‚

åˆ›å»ºæ–°é¡¹ç›®å¦‚æ­¤ç®€å•ï¼š

```bash
npm create nuxt
```

![åˆ›å»º nuxt åº”ç”¨çš„æˆªå›¾](https://cdn.bsky.app/img/feed_thumbnail/plain/did\:plc\:qrygjljnajqwxbld3k7uvyms/bafkreifkhnzbwxgkgjw6jpqg6j6z6abylvfyynca3r7jh5b63fcromj2ia@jpeg)

ç‰¹åˆ«æ„Ÿè°¢ [@cmang](https://github.com/cmang) æä¾›çš„ [ç¾ä¸½ ASCII è‰ºæœ¯](https://bsky.app/profile/durdraw.org/post/3liadod3gv22a)ã€‚â¤ï¸

æƒ³äº†è§£æ›´å¤šå…³äº Nuxt CLI çš„å‘å±•æ–¹å‘å—ï¼Ÿè¯·æŸ¥çœ‹æˆ‘ä»¬çš„è·¯çº¿å›¾ [è¿™é‡Œ](https://github.com/nuxt/cli/issues/648)ï¼ŒåŒ…æ‹¬æˆ‘ä»¬å…³äº [äº¤äº’å¼æ¨¡å—é€‰æ‹©å™¨](https://github.com/nuxt/cli/issues/754) çš„è®¡åˆ’ã€‚

## ğŸš€ Unhead v2

æˆ‘ä»¬å‡çº§åˆ°äº† `unhead` v2ï¼Œè¿™æ˜¯ Nuxt `<head>` ç®¡ç†çš„å¼•æ“ã€‚è¿™ä¸ªä¸»è¦ç‰ˆæœ¬ç§»é™¤äº†ä¸æ¨èçš„åŠŸèƒ½ï¼Œå¹¶æ”¹è¿›äº†ä¸Šä¸‹æ–‡çš„å·¥ä½œæ–¹å¼ï¼š

- å¯¹äº Nuxt 3 ç”¨æˆ·ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªé—ç•™å…¼å®¹æ„å»ºï¼Œç¡®ä¿æ²¡æœ‰åŠŸèƒ½ä¸­æ–­
- ä¸Šä¸‹æ–‡å®ç°ç°åœ¨é€šè¿‡ Nuxt æœ¬èº«æ›´ç›´æ¥

```ts
// Nuxt ç°åœ¨é‡æ–°å¯¼å‡ºå‡½æ•°ï¼ŒåŒæ—¶æ­£ç¡®è§£æä¸Šä¸‹æ–‡
export function useHead(input, options = {}) {
  const unhead = injectHead(options.nuxt)
  return head(input, { head: unhead, ...options })
}
```

å¦‚æœæ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­ç›´æ¥ä½¿ç”¨ Unheadï¼Œè¯·è®°ä½ï¼š

1. ä» Nuxt çš„è‡ªåŠ¨å¯¼å…¥æˆ– `#app/composables/head` å¯¼å…¥ï¼Œè€Œä¸æ˜¯ `@unhead/vue`
2. ç›´æ¥ä» `@unhead/vue` å¯¼å…¥å¯èƒ½ä¼šå¤±å»å¼‚æ­¥ä¸Šä¸‹æ–‡

ä½†è¯·æ”¾å¿ƒ - æˆ‘ä»¬åœ¨ Nuxt 3 ä¸­ä¿æŒäº†å‘åå…¼å®¹æ€§ï¼Œå› æ­¤å¤§å¤šæ•°ç”¨æˆ·ä¸éœ€è¦è¿›è¡Œä»»ä½•æ›´æ”¹ï¼

å¦‚æœæ‚¨é€‰æ‹©äº† `compatibilityVersion: 4`ï¼Œè¯·æŸ¥çœ‹ [æˆ‘ä»¬çš„å‡çº§æŒ‡å—](/docs/getting-started/upgrade#unhead-v2) ä»¥è·å–å…¶ä»–æ›´æ”¹çš„å†…å®¹ã€‚

## ğŸ”§ Devtools v2 å‡çº§

Nuxt Devtools å·²å‡çº§åˆ° v2 ([#30889](https://github.com/nuxt/nuxt/pull/30889))ï¼

æ‚¨ä¼šå–œæ¬¢æ–°çš„åŠŸèƒ½ï¼Œå¦‚è‡ªå®šä¹‰ç¼–è¾‘å™¨é€‰æ‹©ã€ç”¨äºæ£€æŸ¥å·²è§£æé…ç½®çš„ Discovery.jsï¼ˆéå¸¸é€‚åˆè°ƒè¯•ï¼‰ã€æ¶æ„ç”Ÿæˆå™¨çš„å›å½’ä»¥åŠæ›´ç²¾ç®€çš„ä¾èµ–é¡¹ã€‚

æˆ‘ä»¬æœ€å–œæ¬¢çš„æ”¹è¿›ä¹‹ä¸€æ˜¯èƒ½å¤Ÿè·Ÿè¸ªæ¨¡å—å¦‚ä½•ä¿®æ”¹æ‚¨çš„ Nuxt é…ç½® - è®©æ‚¨ä¸€ç›®äº†ç„¶å†…éƒ¨å‘ç”Ÿäº†ä»€ä¹ˆã€‚

ğŸ‘‰ åœ¨ [Nuxt DevTools å‘å¸ƒè¯´æ˜](https://github.com/nuxt/devtools/releases) ä¸­å‘ç°æ‰€æœ‰è¯¦æƒ…ã€‚

## âš¡ï¸ æ€§èƒ½æå‡

æˆ‘ä»¬ç»§ç»­ä½¿ Nuxt æ›´å¿«ï¼Œv3.16 ç‰ˆæœ¬åŒ…å«äº†ä¸€ç³»åˆ—æ”¹è¿›ï¼š

1. ä½¿ç”¨ [`exsolve`](https://github.com/unjs/exsolve) è¿›è¡Œæ¨¡å—è§£æï¼ˆ[#31124](https://github.com/nuxt/nuxt/pull/31124)ï¼‰ä»¥åŠå…¶ä»– unjs ç”Ÿæ€ç³»ç»Ÿï¼ˆnitroï¼Œc12ï¼Œpkg-types ç­‰ï¼‰ - è¿™æå¤§åŠ å¿«äº†æ¨¡å—è§£æé€Ÿåº¦
2. æ›´æ™ºèƒ½çš„æ¨¡å—è§£æè·¯å¾„ï¼ˆ[#31037](https://github.com/nuxt/nuxt/pull/31037)ï¼‰ - ä¼˜å…ˆä½¿ç”¨ç›´æ¥å¯¼å…¥ä»¥æé«˜æ•ˆç‡
3. æ¶ˆé™¤äº†é‡å¤çš„ Nitro åˆ«åè§£æï¼ˆ[#31088](https://github.com/nuxt/nuxt/pull/31088)ï¼‰ - æ›´ç²¾ç®€çš„æ–‡ä»¶å¤„ç†
4. é€šè¿‡è·³è¿‡ä¸å¿…è¦çš„è§£ææ­¥éª¤ä¼˜åŒ– `loadNuxt`ï¼ˆ[#31176](https://github.com/nuxt/nuxt/pull/31176)ï¼‰ - å¯åŠ¨æ›´å¿«
5. åœ¨ Nuxt æ’ä»¶ä¸­é‡‡ç”¨ `oxc-parser` è¿›è¡Œè§£æï¼ˆ[#30066](https://github.com/nuxt/nuxt/pull/30066)ï¼‰

æ‰€æœ‰è¿™äº›é€Ÿåº¦æå‡éƒ½æ˜¯è‡ªåŠ¨å‘ç”Ÿçš„ - æ— éœ€ä»»ä½•é…ç½®ï¼

æ„Ÿè°¢ [CodSpeed](https://codspeed.io/) å’Œ [Vitest åŸºå‡†æµ‹è¯•](https://vitest.dev/guide/features.html#benchmarking) æ¥æµ‹é‡è¿™äº›æ”¹è¿›åœ¨ CI ä¸­çš„è¡¨ç° - è¿™çœŸçš„å¾ˆæœ‰å¸®åŠ©ã€‚

è¡¥å……ä¸€ç‚¹ï¼Œæˆ‘ä¸ªäººçš„ç½‘ç«™ [roe.dev](https://github.com/danielroe/roe.dev) åœ¨ v3.16 ä¸­åŠ è½½é€Ÿåº¦æå‡äº† 32%ï¼Œè€Œ [nuxt.com](https://github.com/nuxt/nuxt.com) åŠ å¿«äº† 28%ã€‚æˆ‘å¸Œæœ›æ‚¨èƒ½çœ‹åˆ°ç±»ä¼¼çš„æ•ˆæœï¼âš¡ï¸

## ğŸ•°ï¸ å»¶è¿Ÿæ°´åˆæ”¯æŒ

æˆ‘ä»¬å¾ˆé«˜å…´ä¸ºæ‚¨å¸¦æ¥åŸç”Ÿçš„å»¶è¿Ÿ/æ‡’åŠ è½½æ°´åˆæ”¯æŒ ([#26468](https://github.com/nuxt/nuxt/pull/26468))ï¼è¿™è®©æ‚¨å¯ä»¥ç²¾ç¡®æ§åˆ¶ç»„ä»¶çš„æ°´åˆæ—¶æœºï¼Œæœ‰åŠ©äºæ”¹å–„åˆå§‹åŠ è½½æ€§èƒ½å’Œäº¤äº’æ—¶é—´ã€‚æˆ‘ä»¬æ­£åœ¨åˆ©ç”¨ Vue çš„å†…ç½®æ°´åˆç­–ç•¥ - [åœ¨ Vue æ–‡æ¡£ä¸­æŸ¥çœ‹å®ƒä»¬](https://vuejs.org/guide/components/async.html#lazy-hydration)ã€‚

```vue
<template>
  <!-- å½“ç»„ä»¶åœ¨è§†å£ä¸­å¯è§æ—¶è¿›è¡Œæ°´åˆ -->
  <LazyExpensiveComponent hydrate-on-visible />
  
  <!-- å½“æµè§ˆå™¨ç©ºé—²æ—¶è¿›è¡Œæ°´åˆ -->
  <LazyHeavyComponent hydrate-on-idle />
  
  <!-- åœ¨äº¤äº’å‘ç”Ÿæ—¶è¿›è¡Œæ°´åˆï¼ˆæ­¤ä¾‹ä¸ºé¼ æ ‡æ‚¬åœï¼‰ -->
  <LazyDropdown hydrate-on-interaction="mouseover" />
  
  <!-- å½“åª’ä½“æŸ¥è¯¢åŒ¹é…æ—¶è¿›è¡Œæ°´åˆ -->
  <LazyMobileMenu hydrate-on-media-query="(max-width: 768px)" />
  
  <!-- å»¶æ—¶æ°´åˆï¼Œæ¯«ç§’ä¸ºå•ä½ -->
  <LazyFooter :hydrate-after="2000" />
</template>
```

æ‚¨è¿˜å¯ä»¥é€šè¿‡ `@hydrated` äº‹ä»¶ç›‘å¬æ°´åˆå‘ç”Ÿçš„æ—¶æœºï¼š

```vue
<LazyComponent hydrate-on-visible @hydrated="onComponentHydrated" />
```

äº†è§£æ›´å¤šå…³äºæ‡’æ°´åˆçš„ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ [æˆ‘ä»¬çš„ç»„ä»¶æ–‡æ¡£](/docs/guide/directory-structure/components#delayed-or-lazy-hydration)ã€‚

## ğŸ§© é«˜çº§é¡µé¢é…ç½®

æ‚¨ç°åœ¨å¯ä»¥å¾®è°ƒ Nuxt æ‰«æå“ªäº›æ–‡ä»¶ä½œä¸ºé¡µé¢ï¼ˆ[#31090](https://github.com/nuxt/nuxt/pull/31090)ï¼‰ï¼Œæ›´å¥½åœ°æ§åˆ¶æ‚¨çš„é¡¹ç›®ç»“æ„ï¼š

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  pages: {
    // è¿‡æ»¤ç‰¹å®šæ–‡ä»¶æˆ–ç›®å½•
    pattern: ['**/*.vue'],
  }
})
```

## ğŸ” å¢å¼ºè°ƒè¯•

æˆ‘ä»¬ä½¿å¾—ä½¿ç”¨ `debug` é€‰é¡¹è¿›è¡Œè°ƒè¯•å˜å¾—æ›´ä¸ºçµæ´»ï¼ç°åœ¨æ‚¨å¯ä»¥ä»…å¯ç”¨æ‰€éœ€çš„è°ƒè¯•æ—¥å¿— ([#30578](https://github.com/nuxt/nuxt/pull/30578))ï¼š

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  debug: {
    // å¯ç”¨ç‰¹å®šè°ƒè¯•åŠŸèƒ½
    templates: true,
    modules: true,
    watchers: true,
    hooks: {
      client: true,
      server: true,
    },
    nitro: true,
    router: true,
    hydration: true,
  }
})
```

æˆ–è€…ç®€å•åœ°ä½¿ç”¨ `debug: true` æ¥å¯ç”¨æ‰€æœ‰è¿™äº›è°ƒè¯•åŠŸèƒ½ã€‚

## ğŸ¨ è£…é¥°å™¨æ”¯æŒ

å¯¹äºçƒ­çˆ±è£…é¥°å™¨çš„æœ‹å‹ï¼ˆä¸ç®¡ä½ æ˜¯è°ï¼ï¼‰ï¼Œæˆ‘ä»¬æ·»åŠ äº†å®éªŒæ€§æ”¯æŒ ([#27672](https://github.com/nuxt/nuxt/pull/27672))ã€‚å¦‚åŒæ‰€æœ‰å®éªŒæ€§åŠŸèƒ½ï¼Œåé¦ˆéå¸¸é‡è¦ã€‚

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    decorators: true
  }
})
```

```ts
function something (_method: () => unknown) {
  return () => 'decorated'
}

class SomeClass {
  @something
  public someMethod () {
    return 'initial'
  }
}

const value = new SomeClass().someMethod()
// è¿”å› 'decorated'
```

## ğŸ“› å‘½åå±‚åˆ«å

è¿™æ˜¯ä¸€ä¸ªå¤‡å—æœŸå¾…çš„åŠŸèƒ½ï¼Œå®ƒæ¥äº†ï¼è‡ªåŠ¨æ‰«æçš„æœ¬åœ°å±‚ï¼ˆæ¥è‡ªæ‚¨çš„ `~~/layers` ç›®å½•ï¼‰ç°åœ¨ä¼šè‡ªåŠ¨åˆ›å»ºåˆ«åã€‚æ‚¨å¯ä»¥é€šè¿‡ `#layers/test` è®¿é—®æ‚¨çš„ `~~/layers/test` å±‚ ([#30948](https://github.com/nuxt/nuxt/pull/30948)) - æ— éœ€é…ç½®ã€‚

å¦‚æœæ‚¨æƒ³ä¸ºå…¶ä»–å±‚æ·»åŠ å‘½ååˆ«åï¼Œå¯ä»¥åœ¨å±‚é…ç½®ä¸­æ·»åŠ åç§°ï¼š

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  $meta: {
    name: 'example-layer',
  },
})
```

è¿™å°†åˆ›å»ºæŒ‡å‘æ‚¨çš„å±‚çš„åˆ«å `#layers/example-layer` - ä½¿å¯¼å…¥æ›´å¹²å‡€ã€æ›´ç›´è§‚ã€‚

## ğŸ§ª é”™è¯¯å¤„ç†æ”¹è¿›

æˆ‘ä»¬å¤§å¤§æ”¹è¿›äº†é”™è¯¯ä¿¡æ¯å’Œæºè¿½è¸ªåŠŸèƒ½ ([#31144](https://github.com/nuxt/nuxt/pull/31144))ï¼š

1. æ›´å¥½çš„è­¦å‘Šä»¥ä¾¿æ˜ç¡®çš„ `useAsyncData` è°ƒç”¨ä¸ç²¾ç¡®çš„æ–‡ä»¶ä½ç½®
2. å½“å²›å±¿é¡µé¢å‡ºç°é”™è¯¯æ—¶ï¼Œé”™è¯¯é¡µé¢ç°åœ¨ä¼šæ­£ç¡®æ˜¾ç¤º ([#31081](https://github.com/nuxt/nuxt/pull/31081))

å¦å¤–ï¼Œæˆ‘ä»¬ç°åœ¨ä½¿ç”¨ Nitro ç¾ä¸½çš„é”™è¯¯å¤„ç†ï¼ˆç”± [youch](https://github.com/poppinss/youch) æä¾›æ”¯æŒï¼‰æ¥æä¾›æ›´åŠ æœ‰ç”¨çš„é”™è¯¯ä¿¡æ¯ï¼Œç»ˆç«¯å†…å¸¦æœ‰å †æ ˆè·Ÿè¸ªæ”¯æŒã€‚

Nitro ç°åœ¨è¿˜ä¼šè‡ªåŠ¨åº”ç”¨æºæ˜ å°„ï¼Œæ— éœ€é¢å¤–çš„ Node é€‰é¡¹ï¼Œåœ¨æ¸²æŸ“é”™è¯¯é¡µé¢æ—¶ï¼Œæˆ‘ä»¬è®¾ç½®äº†é€‚å½“çš„å®‰å…¨å¤´éƒ¨ã€‚

## ğŸ“¦ æ¨¡å—å¼€å‘æ”¹è¿›

å¯¹äºæ¨¡å—ä½œè€…ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä½¿ç”¨ `addTypeTemplate` æ¥å¢å¼º Nitro ç±»å‹çš„èƒ½åŠ› ([#31079](https://github.com/nuxt/nuxt/pull/31079))ï¼š

```ts
// åœ¨æ‚¨çš„ Nuxt æ¨¡å—å†…éƒ¨
export default defineNuxtModule({
  setup(options, nuxt) {
    addTypeTemplate({
      filename: 'types/my-module.d.ts',
      getContents: () => `
        declare module 'nitropack' {
          interface NitroRouteConfig {
            myCustomOption?: boolean
          }
        }
      `
    }, { nitro: true })
  }
})
```

## âš™ï¸ Nitro v2.11 å‡çº§

æˆ‘ä»¬å·²å‡çº§åˆ° Nitro v2.11ã€‚æœ‰è®¸å¤šæ”¹è¿› - æ¯”æˆ‘å¯ä»¥åœ¨è¿™äº›ç®€çŸ­çš„å‘å¸ƒè¯´æ˜ä¸­æ¦‚è¿°çš„è¦å¤šã€‚

ğŸ‘‰ æŸ¥çœ‹ [Nitro v2.11.0 å‘å¸ƒè¯´æ˜](https://github.com/nitrojs/nitro/releases/tag/v2.11.0) ä¸­çš„æ‰€æœ‰ç»†èŠ‚ã€‚

## ğŸ“¦ æ–°çš„ `unjs` ä¸»è¦ç‰ˆæœ¬

æœ¬æ¬¡å‘å¸ƒåŒ…æ‹¬ unjs ç”Ÿæ€ç³»ç»Ÿä¸­çš„å‡ ä¸ªä¸»è¦ç‰ˆæœ¬å‡çº§ï¼Œä¸“æ³¨äºé€šè¿‡ä»… ESM åˆ†å‘æ¥æå‡æ€§èƒ½å’Œå‡å°‘åŒ…ä½“ç§¯ï¼š

- unenv å‡çº§åˆ° v2ï¼ˆå…¨é¢é‡å†™ï¼‰
- db0 å‡çº§åˆ° v0.3ï¼ˆä»… ESMï¼ŒåŸç”Ÿ node\:sqlï¼Œæ”¹è¿›ï¼‰
- ohash å‡çº§åˆ° v2ï¼ˆä»… ESMï¼ŒåŸç”Ÿ node\:crypto æ”¯æŒï¼Œé€Ÿåº¦æ›´å¿«ï¼‰
- untyped å‡çº§åˆ° v2ï¼ˆä»… ESMï¼Œæ›´å°çš„å®‰è£…å¤§å°ï¼‰
- unimport å‡çº§åˆ° v4ï¼ˆæ”¹è¿›ï¼‰
- c12 å‡çº§åˆ° v3ï¼ˆä»… ESMï¼‰
- pathe å‡çº§åˆ° v2ï¼ˆä»… ESMï¼‰
- cookie-es å‡çº§åˆ° v2ï¼ˆä»… ESMï¼‰
- esbuild å‡çº§åˆ° v0.25
- chokidar å‡çº§åˆ° v4

## âœ… å‡çº§

å’Œå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬æ¨èçš„å‡çº§æ–¹å¼æ˜¯ï¼š

```sh
npx nuxi@latest upgrade --dedupe
```

è¿™å°†åˆ·æ–°æ‚¨çš„é”å®šæ–‡ä»¶å¹¶æ‹‰å– Nuxt ä¾èµ–çš„æ‰€æœ‰æœ€æ–°ç‰ˆæœ¬ï¼Œå°¤å…¶æ˜¯æ¥è‡ª unjs ç”Ÿæ€ç³»ç»Ÿçš„ã€‚

## å®Œæ•´å‘å¸ƒè¯´æ˜

::read-more
---
color: gray
icon: i-simple-icons-github
target: _blank
to: https://github.com/nuxt/nuxt/releases/tag/v3.16.0
---
é˜…è¯» Nuxt `v3.16.0` çš„å®Œæ•´å‘å¸ƒè¯´æ˜ã€‚
::

è¡·å¿ƒæ„Ÿè°¢æ¯ä¸€ä½å‚ä¸æ­¤æ¬¡å‘å¸ƒçš„äººå‘˜ã€‚â¤ï¸

æˆ‘çŸ¥é“åœ¨è¿™æ¬¡å‘å¸ƒä¸­æœ‰å¾ˆå¤šéå¸¸é‡è¦çš„å˜åŒ– - å¦‚æœæ‚¨æœ‰ä»»ä½•åé¦ˆæˆ–é—®é¢˜ï¼Œè¯·éšæ—¶å‘ŠçŸ¥æˆ‘ä»¬ï¼ğŸ™