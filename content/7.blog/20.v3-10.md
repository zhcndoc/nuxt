---
title: Nuxt 3.10
description: Nuxt 3.10 å·²å‘å¸ƒ - å……æ»¡äº†åŠŸèƒ½å’Œä¿®å¤ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›äº®ç‚¹ã€‚
navigation: false
image: /assets/blog/v3.10.png
authors:
  - name: Daniel Roe
    avatarUrl: https://avatar.ikxin.com/github/danielroe
    link: https://twitter.com/danielcroe
    twitter: danielcroe
date: 2024-01-30T00:00:00.000Z
category: Release
---

v3.10 åœ¨ v3.9 ä¹‹åæ¨å‡ºï¼Œä½†å®ƒå……æ»¡äº†åŠŸèƒ½å’Œä¿®å¤ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›äº®ç‚¹ã€‚

### âœ¨ å®éªŒæ€§çš„å…±äº« `asyncData` åœ¨é¢„æ¸²æŸ“æ—¶

åœ¨é¢„æ¸²æŸ“è·¯ç”±æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šåå¤è·å–ç›¸åŒçš„æ•°æ®ã€‚åœ¨ Nuxt 2 ä¸­ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªâ€œpayloadâ€ï¼Œå¯ä»¥è·å–ä¸€æ¬¡ç„¶ååœ¨æ¯ä¸ªé¡µé¢ä¸­è®¿é—®ï¼ˆåœ¨ Nuxt 3 ä¸­å½“ç„¶ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ‰§è¡Œæ­¤æ“ä½œ - å‚è§[æ­¤æ–‡ç« ](https://roe.dev/blog/shared-data-nuxt-generate)ï¼‰ã€‚

é€šè¿‡[#24894](https://github.com/nuxt/nuxt/pull/24894)ï¼Œåœ¨é¢„æ¸²æŸ“ç½‘ç«™æ—¶æˆ‘ä»¬ç°åœ¨å¯ä»¥ä¸ºæ‚¨è‡ªåŠ¨æ‰§è¡Œæ­¤æ“ä½œã€‚æ‚¨çš„[`useAsyncData`](/docs/api/composables/use-async-data)å’Œ[`useFetch`](/docs/api/composables/use-fetch)è°ƒç”¨å°†åœ¨ç½‘ç«™çš„æ¸²æŸ“ä¹‹é—´è¿›è¡Œå»é‡å’Œç¼“å­˜ã€‚

```ts [nuxt.config.ts]
export defineNuxtConfig({
  experimental: {
    sharedPrerenderData: true
  }
})
```

::important
ç‰¹åˆ«é‡è¦çš„æ˜¯ï¼Œç¡®ä¿æ•°æ®çš„ä»»ä½•å”¯ä¸€é”®å§‹ç»ˆå¯ä»¥è§£æåˆ°ç›¸åŒçš„æ•°æ®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨ä½¿ç”¨`useAsyncData`è·å–ä¸ç‰¹å®šé¡µé¢ç›¸å…³çš„æ•°æ®ï¼Œåˆ™åº”æä¾›ä¸€ä¸ªä¸è¯¥æ•°æ®å”¯ä¸€åŒ¹é…çš„é”®ã€‚(`useFetch`åº”è¯¥è‡ªåŠ¨æ‰§è¡Œæ­¤æ“ä½œã€‚)
::

::read-more
---
to: /docs/guide/going-further/experimental-features#sharedprerenderdata
---
::

### ğŸ†” SSR å®‰å…¨çš„å¯è®¿é—®å”¯ä¸€ ID åˆ›å»º

æˆ‘ä»¬ç°åœ¨æä¾›äº†ä¸€ä¸ª`useId`ç»„åˆï¼Œç”¨äºç”Ÿæˆå®‰å…¨çš„ SSR å”¯ä¸€ IDï¼ˆ[#23368](https://github.com/nuxt/nuxt/pull/23368)ï¼‰ã€‚è¿™ä½¿å¾—æ‚¨çš„åº”ç”¨ç¨‹åºä¸­åˆ›å»ºæ›´å¯è®¿é—®çš„ç•Œé¢å˜å¾—æ›´åŠ å®¹æ˜“ã€‚ä¾‹å¦‚ï¼š

```vue [components/MyForm.vue]
<script setup>
const emailId = useId()
const passwordId = useId()
</script>

<template>
  <form>
    <label :for="emailId">ç”µå­é‚®ä»¶</label>
    <input
      :id="emailId"
      name="email"
      type="email"
    >
    <label :for="passwordId">å¯†ç </label>
    <input
      :id="passwordId"
      name="password"
      type="password"
    >
  </form>
</template>
```

::read-more{to="/docs/api/composables/use-id"}
::

### âœï¸ æ‰©å±• `app/router.options`

ç°åœ¨æ¨¡å—ä½œè€…å¯ä»¥æ³¨å…¥è‡ªå·±çš„`router.options`æ–‡ä»¶ï¼ˆ[#24922](https://github.com/nuxt/nuxt/pull/24922)ï¼‰ã€‚æ–°çš„`pages:routerOptions`é’©å­å…è®¸æ¨¡å—ä½œè€…æ‰§è¡Œä¾‹å¦‚æ·»åŠ è‡ªå®šä¹‰`scrollBehavior`æˆ–åœ¨è¿è¡Œæ—¶å¢å¼ºè·¯ç”±çš„æ“ä½œã€‚

::read-more{to="/docs/guide/going-further/custom-routing#router-options"}
::

### :icon{name="i-vscode-icons-file-type-node"} å®¢æˆ·ç«¯ Node.js æ”¯æŒ

æˆ‘ä»¬ç°åœ¨æ”¯æŒï¼ˆå®éªŒæ€§çš„ï¼‰å¡«å……å…³é”®çš„ Node.js å†…ç½®æ¨¡å—ï¼ˆ[#25028](https://github.com/nuxt/nuxt/pull/25028)ï¼‰ï¼Œå°±åƒæˆ‘ä»¬åœ¨éƒ¨ç½²åˆ°é Node ç¯å¢ƒæ—¶é€šè¿‡ Nitro åœ¨æœåŠ¡å™¨ä¸Šæ‰€åšçš„é‚£æ ·ã€‚

è¿™æ„å‘³ç€ï¼Œåœ¨å®¢æˆ·ç«¯ä»£ç ä¸­ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä» Node å†…ç½®æ¨¡å—ä¸­å¯¼å…¥ï¼ˆæ”¯æŒ`node:`å’Œ node å¯¼å…¥ï¼‰ã€‚ç„¶è€Œï¼Œä¸ä¼šä¸ºæ‚¨å…¨å±€æ³¨å…¥ä»»ä½•å†…å®¹ï¼Œä»¥é¿å…ä¸å¿…è¦åœ°å¢åŠ åŒ…å¤§å°ã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€è¦å¯¼å…¥å®ƒä»¬ã€‚

```ts [some-file.ts]
import { Buffer } from 'node:buffer'
import process from 'node:process'
```

æˆ–è€…æä¾›è‡ªå·±çš„å¡«å……ä»£ç ï¼Œä¾‹å¦‚ï¼Œåœ¨ Nuxt æ’ä»¶ä¸­ã€‚

```ts [plugins/node.client.ts]
import { Buffer } from 'node:buffer'
import process from 'node:process'

globalThis.Buffer = Buffer
globalThis.process = process

export default defineNuxtPlugin({})
```

è¿™å°†ä½¿æ²¡æœ‰é€‚å½“æµè§ˆå™¨æ”¯æŒçš„åº“çš„ç”¨æˆ·æ›´è½»æ¾åœ°ä½¿ç”¨ã€‚ç„¶è€Œï¼Œç”±äºå¢åŠ åŒ…å¤§å°çš„é£é™©ï¼Œå¦‚æœæœ‰å¯èƒ½ï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®ç”¨æˆ·**é€‰æ‹©å…¶ä»–æ›¿ä»£æ–¹æ¡ˆ**ã€‚

### ğŸª æ›´å¥½çš„ cookie å“åº”æ€§

ç°åœ¨æˆ‘ä»¬å…è®¸æ‚¨é€‰æ‹©ä½¿ç”¨[CookieStore](https://developer.mozilla.org/en-US/docs/Web/API/CookieStore)ã€‚å¦‚æœæµè§ˆå™¨æ”¯æŒï¼Œæ›´æ–° cookie æ—¶ä¼šä½¿ç”¨ CookieStore è€Œä¸æ˜¯ BroadcastChannel æ¥å“åº”åœ°æ›´æ–°`useCookie`çš„å€¼ï¼ˆ[#25198](https://github.com/nuxt/nuxt/pull/25198)ï¼‰ã€‚

è¿™ä¹Ÿé…å¥—äº†ä¸€ä¸ªæ–°çš„ç»„åˆå¼å‡½æ•°`refreshCookie`ï¼Œå®ƒå…è®¸æ‰‹åŠ¨åˆ·æ–° cookie çš„å€¼ï¼Œä¾‹å¦‚åœ¨æ‰§è¡Œè¯·æ±‚åã€‚

::read-more{to="/docs/api/utils/refresh-cookie"}
::

### ğŸ¥ æ£€æµ‹åæ¨¡å¼

åœ¨è¿™ä¸ªå‘å¸ƒç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬è¿˜æä¾›äº†ä¸€ç³»åˆ—åŠŸèƒ½æ¥æ£€æµ‹æ½œåœ¨çš„é”™è¯¯å’Œæ€§èƒ½é—®é¢˜ã€‚

- å¦‚æœåœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨`setInterval`ï¼Œæˆ‘ä»¬å°†æŠ›å‡ºé”™è¯¯ï¼ˆ[#25259](https://github.com/nuxt/nuxt/pull/25259)ï¼‰ã€‚
- æˆ‘ä»¬ï¼ˆä»…åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼‰ä¼šå‘å‡ºè­¦å‘Šï¼Œå¦‚æœé”™è¯¯ä½¿ç”¨äº†æ•°æ®è·å–çš„ç»„åˆå¼å‡½æ•°ï¼ˆ[#25071](https://github.com/nuxt/nuxt/pull/25071)ï¼‰ï¼Œä¾‹å¦‚åœ¨æ’ä»¶æˆ–è®¾ç½®ä¸Šä¸‹æ–‡ä¹‹å¤–ä½¿ç”¨ã€‚
- æˆ‘ä»¬ï¼ˆä»…åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼‰ä¼šå‘å‡ºè­¦å‘Šï¼Œå¦‚æœæ‚¨æ²¡æœ‰ä½¿ç”¨`<NuxtPage />`ä½†å¯ç”¨äº†`vue-router`çš„é›†æˆï¼ˆ[#25490](https://github.com/nuxt/nuxt/pull/25490)ï¼‰ã€‚(`RouterView`ä¸èƒ½å•ç‹¬ä½¿ç”¨ã€‚)

### ğŸ§‚ ç²¾ç»†çš„è§†å›¾è¿‡æ¸¡æ”¯æŒ

ç°åœ¨å¯ä»¥ä½¿ç”¨`definePageMeta`åœ¨æ¯ä¸ªé¡µé¢ä¸Šæ§åˆ¶è§†å›¾è¿‡æ¸¡çš„æ”¯æŒï¼ˆ[#25264](https://github.com/nuxt/nuxt/pull/25264)ï¼‰ã€‚

æ‚¨éœ€è¦é¦–å…ˆå¯ç”¨å®éªŒæ€§çš„è§†å›¾è¿‡æ¸¡æ”¯æŒï¼š

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    viewTransition: true
  },
  app: {
    // å¦‚æœéœ€è¦ï¼Œæ‚¨å¯ä»¥å…¨å±€ç¦ç”¨å®ƒä»¬ï¼ˆé»˜è®¤æƒ…å†µä¸‹å®ƒä»¬å·²å¯ç”¨ï¼‰
    viewTransition: false
  }
})
```

ç„¶åå¯ä»¥é€‰æ‹©æ€§åœ°å¼€å¯æˆ–å…³é—­ï¼š

```vue [pages/index.vue]
<script setup lang="ts">
definePageMeta({
  viewTransition: false
})
</script>
```

æœ€åï¼Œå¦‚æœç”¨æˆ·çš„æµè§ˆå™¨åŒ¹é…äº†`prefers-reduced-motion: reduce`ï¼ŒNuxt å°†ä¸ä¼šåº”ç”¨è§†å›¾è¿‡æ¸¡æ•ˆæœï¼ˆ[#22292](https://github.com/nuxt/nuxt/pull/22292)ï¼‰ã€‚æ‚¨å¯ä»¥è®¾ç½®`viewTransition: 'always'`ï¼Œç„¶åç”±æ‚¨æ¥å°Šé‡ç”¨æˆ·çš„é¦–é€‰é¡¹ã€‚

### ğŸ—ï¸ æ„å»ºæ—¶è·¯ç”±å…ƒæ•°æ®

ç°åœ¨å¯ä»¥åœ¨æ„å»ºæ—¶è®¿é—®åœ¨`definePageMeta`ä¸­å®šä¹‰çš„è·¯ç”±å…ƒæ•°æ®ï¼Œå…è®¸æ¨¡å—å’Œé’©å­ä¿®æ”¹å’Œæ›´æ”¹è¿™äº›å€¼ï¼ˆ[#25210](https://github.com/nuxt/nuxt/pull/25210)ï¼‰ã€‚

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    scanPageMeta: true
  }
})
```

è¯·å°è¯•ä½¿ç”¨å¹¶å‘Šè¯‰æˆ‘ä»¬å®ƒå¯¹æ‚¨çš„å·¥ä½œæœ‰ä½•æ”¹è¿›ã€‚æˆ‘ä»¬å¸Œæœ›æé«˜æ€§èƒ½å¹¶åœ¨ä»¥åçš„ç‰ˆæœ¬ä¸­é»˜è®¤å¯ç”¨è¯¥åŠŸèƒ½ï¼Œä»¥ä¾¿åƒ`@nuxtjs/i18n`å’Œå…¶ä»–æ¨¡å—èƒ½å¤Ÿæ›´æ·±å…¥åœ°ä¸åœ¨`definePageMeta`ä¸­è®¾ç½®çš„è·¯ç”±é€‰é¡¹è¿›è¡Œé›†æˆã€‚

### ğŸ“¦ æ¨¡å—è§£æ

é€šè¿‡[#24837](https://github.com/nuxt/nuxt/pull/24837)ï¼Œæˆ‘ä»¬ç°åœ¨é€‰æ‹©ä½¿ç”¨ TypeScript çš„`bundler`è§£æï¼Œè¿™æ›´æ¥è¿‘äºåœ¨ Nuxt é¡¹ç›®ä¸­è§£ææ¨¡å—çš„å®é™…æ–¹å¼ã€‚

â€˜Bundlerâ€™æ¨¡å—è§£ææ˜¯ç”± Vueï¼ˆ[æ¨è](https://github.com/vuejs/tsconfig/blob/mainz/tsconfig.json#L24-L26)ï¼‰å’Œ Viteï¼ˆ[æ¨è](https://vite.zhcndoc.com/guide/performance.html#reduce-resolve-operations)ï¼‰æ¨èçš„ï¼Œä½†ä¸å¹¸çš„æ˜¯ï¼Œä»ç„¶æœ‰è®¸å¤šåŒ…åœ¨å…¶`package.json`ä¸­æ²¡æœ‰æ­£ç¡®çš„æ¡ç›®ã€‚

ä½œä¸ºæ­¤ä¸¾çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬åœ¨æ•´ä¸ªç”Ÿæ€ç³»ç»Ÿä¸­å¼€å¯äº† 85 ä¸ª PRï¼Œä»¥æµ‹è¯•åˆ‡æ¢é»˜è®¤æ–¹å¼ï¼Œå¹¶è¯†åˆ«å’Œä¿®å¤äº†ä¸€äº›é—®é¢˜ã€‚

å¦‚æœæ‚¨éœ€è¦å…³é—­æ­¤è¡Œä¸ºï¼Œå¯ä»¥è¿™æ ·åšã€‚ä½†æ˜¯ï¼Œè¯·è€ƒè™‘åœ¨åº“æˆ–æ¨¡å—çš„å­˜å‚¨åº“ä¸­æå‡ºé—®é¢˜ï¼ˆè¯·éšæ—¶åœ¨é—®é¢˜ä¸­æ ‡è®°æˆ‘ï¼‰ï¼Œä»¥ä¾¿èƒ½å¤Ÿåœ¨æ¥æºå¤„è§£å†³è¯¥é—®é¢˜ã€‚

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  future: {
    typescriptBundlerResolution: false
  }
})
```

## âœ… å‡çº§

å¦‚å¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬æ¨èè¿è¡Œï¼š

```sh
npx nuxi upgrade --force
```

è¿™å°†åˆ·æ–°æ‚¨çš„é”å®šæ–‡ä»¶ï¼Œå¹¶ç¡®ä¿æ‚¨æ‹‰å–äº† Nuxt ä¾èµ–çš„å…¶ä»–ä¾èµ–é¡¹çš„æ›´æ–°ï¼Œç‰¹åˆ«æ˜¯åœ¨é Node ç”Ÿæ€ç³»ç»Ÿä¸­ã€‚

## å®Œæ•´çš„å‘å¸ƒè¯´æ˜

::read-more
---
to: https://github.com/nuxt/nuxt/releases/tag/v3.10.0
color: gray
icon: i-simple-icons-github
target: _blank
---
é˜…è¯» Nuxt `v3.10.0`çš„å®Œæ•´å‘å¸ƒè¯´æ˜ã€‚
::

æ„Ÿè°¢æ‚¨é˜…è¯»åˆ°è¿™é‡Œï¼æˆ‘ä»¬å¸Œæœ›æ‚¨å–œæ¬¢æ–°ç‰ˆæœ¬ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•åé¦ˆæˆ–é—®é¢˜ï¼Œè¯·åŠ¡å¿…å‘Šè¯‰æˆ‘ä»¬ã€‚

**ç¥æ‚¨ä½¿ç”¨ Nuxt çš„æ„‰å¿« âœ¨**
