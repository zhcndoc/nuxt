---
title: Nuxt 3.15
description: Nuxt 3.15 å‘å¸ƒ - é›†æˆ Vite 6ï¼Œæ›´å¥½çš„çƒ­æ›´æ–°å’Œæ›´å¿«çš„æ€§èƒ½
navigation: false
image: /assets/blog/v3.15.png
authors:
  - name: Daniel Roe
    avatarUrl: https://github.com/danielroe.png
    link: https://twitter.com/danielcroe
    twitter: danielcroe
date: 2024-12-24T10:00:00.000Z
category: å‘å¸ƒ
---

æˆ‘ä»¬ç»§ç»­è‡´åŠ›äº Nitro v3 å’Œ Nuxt v4 çš„å‘å¸ƒã€‚ä½†æˆ‘ä»¬å¾ˆé«˜å…´åœ¨åœ£è¯èŠ‚å‰ï¼ˆåˆšå¥½ï¼‰å‘å¸ƒ Nuxt v3.15ã€‚

## â„ï¸ é›ªèŠ±é£˜é£˜ï¼

èŠ‚æ—¥å¿«ä¹ï¼å½“ä½ å¯åŠ¨ Nuxt æ—¶ (å¦‚æœä½ åœ¨åŒ—åŠçƒ) ä½ ä¼šå‘ç°åŠ è½½å±å¹•ä¸Šæœ‰äº›é›ªèŠ± ([#29871](https://github.com/nuxt/nuxt/pull/29871))ã€‚

## âš¡ï¸ é›†æˆ Vite 6

Nuxt v3.15 é¦–æ¬¡åŒ…å«äº† [Vite 6](https://vite.dev/blog/announcing-vite6)ã€‚è™½ç„¶è¿™æ˜¯ä¸€ä¸ªä¸»è¦ç‰ˆæœ¬ï¼Œä½†æˆ‘ä»¬é¢„è®¡è¿™å¯¹ Nuxt ç”¨æˆ·ä¸ä¼šé€ æˆç ´åæ€§æ›´æ”¹ï¼ˆè¯·å‚é˜…å®Œæ•´çš„ [è¿ç§»æŒ‡å—](https://vite.dev/guide/migration.html)ï¼‰ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ æœ‰ä¾èµ–äºç‰¹å®š Vite ç‰ˆæœ¬çš„åŒ…ï¼Œè¯·å°å¿ƒã€‚

Vite 6 æœ€æ˜¾è‘—çš„å˜åŒ–ä¹‹ä¸€æ˜¯æ–°çš„ç¯å¢ƒ APIï¼Œæˆ‘ä»¬å¸Œæœ›ä¸ Nitro ä¸€èµ·ä½¿ç”¨ï¼Œä»¥æ”¹å–„æœåŠ¡å™¨å¼€å‘ç¯å¢ƒã€‚æ•¬è¯·å…³æ³¨è¿™ä¸€åŠ¨æ€ï¼

ä½ å¯ä»¥åœ¨ [Vite 6 æ›´æ–°æ—¥å¿—]() ä¸­æŸ¥çœ‹å®Œæ•´çš„å˜æ›´åˆ—è¡¨ã€‚

## ğŸªµ Chromium å¼€å‘å·¥å…·çš„æ”¹è¿›

æˆ‘ä»¬è°ˆåˆ°äº†å¾ˆå¤šå…³äº Nuxt DevTools çš„å†…å®¹ï¼Œä½† v3.15 ç‰ˆæœ¬åœ¨ Chromium æµè§ˆå™¨çš„å¼€å‘å·¥å…·ä¸­æä¾›äº†æ›´å¥½çš„å¼€å‘æ¨¡å¼é›†æˆã€‚

æˆ‘ä»¬ç°åœ¨ä½¿ç”¨ [Chrome å¼€å‘å·¥å…·æ‰©å±• API](https://developer.chrome.com/docs/devtools/performance/extension) æ¥æ”¯æŒåœ¨æµè§ˆå™¨å¼€å‘å·¥å…·æ€§èƒ½é¢æ¿ä¸­æ‰“å° nuxt hook çš„æ—¶é—´ã€‚

![CleanShot 2024-11-14 at 15 05 22@2x](https://github.com/user-attachments/assets/57525027-750a-462f-b713-398302aec0cd)

## ğŸ—ºï¸ `callOnce` çš„å¯¼èˆªæ¨¡å¼

`callOnce` æ˜¯ä¸€ä¸ªå†…ç½®çš„ Nuxt å¯ç»„åˆå‡½æ•°ï¼Œåªåœ¨è¿è¡Œä¸€æ¬¡çš„æƒ…å†µä¸‹æ‰§è¡Œä»£ç ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä»£ç åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œé‚£ä¹ˆåœ¨å®¢æˆ·ç«¯ä¸ä¼šå†æ¬¡è¿è¡Œã€‚ä½†æœ‰æ—¶ä½ ç¡®å®å¸Œæœ›ä»£ç åœ¨æ¯æ¬¡å¯¼èˆªæ—¶éƒ½è¿è¡Œ - åªéœ€é¿å…æœ€åˆçš„æœåŠ¡å™¨/å®¢æˆ·ç«¯åŒé‡åŠ è½½ã€‚ä¸ºæ­¤ï¼Œæ–°å¢äº† `mode: 'navigation'` é€‰é¡¹ï¼Œä»£ç åªä¼šåœ¨æ¯æ¬¡å¯¼èˆªæ—¶è¿è¡Œä¸€æ¬¡ã€‚ï¼ˆæœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… [#30260](https://github.com/nuxt/nuxt/pull/30260)ï¼‰ã€‚

```ts
await callOnce(() => counter.value++, { mode: 'navigation' })
```

## ğŸ¥µ æ¨¡æ¿ã€é¡µé¢ + é¡µé¢å…ƒæ•°æ®çš„çƒ­æ›´æ–°

æˆ‘ä»¬ç°åœ¨å¯¹ Nuxt çš„è™šæ‹Ÿæ–‡ä»¶ï¼ˆå¦‚è·¯ç”±ã€æ’ä»¶ã€ç”Ÿæˆæ–‡ä»¶ï¼‰ä»¥åŠé¡µé¢å…ƒæ•°æ®ï¼ˆåœ¨ `definePageMeta` å®ä¸­ï¼‰å®ç°äº†çƒ­æ¨¡å—æ›¿æ¢ ([#30113](https://github.com/nuxt/nuxt/pull/30113))ã€‚

è¿™æ„å‘³ç€åœ¨å¼€å‘æ—¶ä½ ä¼šæœ‰æ›´å¿«çš„ä½“éªŒï¼Œå¹¶ä¸”åœ¨æ›´æ”¹è·¯ç”±æ—¶ä¸éœ€è¦é‡æ–°åŠ è½½é¡µé¢ã€‚

## ğŸ“‹ é¡µé¢å…ƒæ•°æ®å¢å¼º

æˆ‘ä»¬ç°åœ¨æ”¯æŒé€šè¿‡ `experimental.extraPageMetaExtractionKeys` æå–é¢å¤–çš„é¡µé¢å…ƒæ•°æ®é”®ï¼ˆå¯èƒ½è¢«æ¨¡å—ä½œè€…ä½¿ç”¨ï¼‰ ([#30015](https://github.com/nuxt/nuxt/pull/30015))ã€‚è¿™ä½¿å¾—æ¨¡å—ä½œè€…èƒ½å¤Ÿåœ¨æ„å»ºæ—¶åœ¨ `pages:resolved` é’©å­ä¸­ä½¿ç”¨è¿™äº›ä¿¡æ¯ã€‚

æˆ‘ä»¬è¿˜æ”¯æŒåœ¨ `definePageMeta` ä¸­ä½¿ç”¨å±€éƒ¨å‡½æ•° ([#30241](https://github.com/nuxt/nuxt/pull/30241))ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥è¿™æ ·åšï¼š

```ts
function validateIdParam(route) {
  return !!(route.params.id && !isNaN(Number(route.params.id)))
}

definePageMeta({
  validate: validateIdParam,
})
```

## ğŸ”¥ æ€§èƒ½æ”¹è¿›

å¦‚æœåœ¨æ°´åˆåº”ç”¨æ—¶å°†ä½¿ç”¨æµè§ˆå™¨ä¸­çš„åº”ç”¨æ¸…å•ï¼Œæˆ‘ä»¬ç°åœ¨å°†å…¶é¢„åŠ è½½ ([#30017](https://github.com/nuxt/nuxt/pull/30017))ã€‚

å¦‚æœå¯èƒ½ï¼Œæˆ‘ä»¬è¿˜å°†ä»ä½ çš„æ†ç»‘åŒ…ä¸­å‰”é™¤ vue-router çš„å“ˆå¸Œæ¨¡å¼å†å² - å…·ä½“æ¥è¯´ï¼Œå¦‚æœä½ æ²¡æœ‰è‡ªå®šä¹‰ä½ çš„ `app/router.options.ts` ([#30297](https://github.com/nuxt/nuxt/pull/30297))ã€‚

## ğŸ£ v4 æ›´æ–°

ä¸º v4 çš„æ–°é»˜è®¤è®¾ç½®æ¨å‡ºäº†ä¸€äº›å…¶ä»–æ›´æ”¹ï¼ŒåŒ…æ‹¬åªé»˜è®¤å†…è” Vue ç»„ä»¶çš„æ ·å¼ ([#30305](https://github.com/nuxt/nuxt/pull/30305))ã€‚

## âœ… å‡çº§

å’Œå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬å»ºè®®çš„å‡çº§æ–¹å¼æ˜¯è¿è¡Œï¼š

```sh
npx nuxi@latest upgrade --force
```

è¿™å°†åˆ·æ–°ä½ çš„é”å®šæ–‡ä»¶ï¼Œå¹¶ç¡®ä¿ä½ ä» Nuxt ä¾èµ–çš„å…¶ä»–ä¾èµ–é¡¹ä¸­æ‹‰å–æ›´æ–°ï¼Œç‰¹åˆ«æ˜¯åœ¨ unjs ç”Ÿæ€ç³»ç»Ÿä¸­ã€‚

## å®Œæ•´çš„å‘å¸ƒè¯´æ˜

::read-more
---
color: gray
icon: i-simple-icons-github
target: _blank
to: https://github.com/nuxt/nuxt/releases/tag/v3.15.0
---
é˜…è¯» Nuxt `v3.15.0` çš„å®Œæ•´å‘å¸ƒè¯´æ˜ã€‚
::

éå¸¸æ„Ÿè°¢æ‰€æœ‰å‚ä¸æœ¬æ¬¡å‘å¸ƒçš„æœ‹å‹ã€‚â¤ï¸

å¦‚æœä½ æœ‰ä»»ä½•åé¦ˆæˆ–é—®é¢˜ï¼Œè¯·æ¯«ä¸çŠ¹è±«åœ°å‘Šè¯‰æˆ‘ä»¬ï¼ğŸ™