---
title: Nuxt 3.17
description: Nuxt 3.17 å‘å¸ƒ - å¸¦æ¥äº†å¯¹å¼‚æ­¥æ•°æ®å±‚çš„é‡å¤§é‡æ„ï¼Œä¸€ä¸ªæ–°çš„å†…ç½®ç»„ä»¶ï¼Œæ›´å¥½çš„è­¦å‘Šå’Œæ€§èƒ½æ”¹å–„ï¼
navigation: false
image: /assets/blog/v3.17.png
authors:
  - name: Daniel Roe
    avatar:
      src: https://avatar.ikxin.com/github/danielroe
    to: https://bsky.app/profile/danielroe.dev
date: 2025-04-27T10:00:00.000Z
category: Release
---

## ğŸ“Š æ•°æ®è·å–æ”¹è¿›

Nuxt çš„æ•°æ®è·å–å±‚è¿›è¡Œäº†é‡å¤§é‡ç»„ï¼Œå¸¦æ¥äº†å¯¹ `useAsyncData` å’Œ `useFetch` çš„æ˜¾è‘—æ”¹è¿›ã€‚

å°½ç®¡æˆ‘ä»¬æ—¨åœ¨ä¿æŒå‘åå…¼å®¹ï¼Œå¹¶å°†é‡å¤§å˜æ›´ç½®äº `experimental.granularCachedData` æ ‡å¿—ä¹‹ä¸‹ï¼ˆé»˜è®¤ç¦ç”¨ï¼‰ï¼Œä½†æˆ‘ä»¬å»ºè®®åœ¨å‡çº§åå½»åº•æµ‹è¯•æ‚¨çš„åº”ç”¨ã€‚å¦‚æœæ‚¨ä¾èµ–äºåœ¨å¸è½½ä½¿ç”¨ `useAsyncData` çš„ç»„ä»¶åç¼“å­˜æ•°æ®æ°¸è¿œå¯ç”¨ï¼Œæ‚¨è¿˜å¯ä»¥ç¦ç”¨ `experimental.purgeCachedData` ä»¥æ¢å¤åˆ°ä»¥å‰çš„è¡Œä¸ºã€‚

::read-more{to="https://github.com/nuxt/nuxt/pull/31373" target="_blank"}
é˜…è¯»åŸå§‹ PR ä»¥è·å–å®Œæ•´è¯¦æƒ…ã€‚
::

### è·¨ç»„ä»¶çš„ä¸€è‡´æ•°æ®

ç°åœ¨æ‰€æœ‰ä½¿ç”¨ç›¸åŒé”®çš„ `useAsyncData` æˆ– `useFetch` è°ƒç”¨å…±äº«åº•å±‚ refï¼Œç¡®ä¿åº”ç”¨ç¨‹åºè·¨ç»„ä»¶çš„ä¸€è‡´æ€§ï¼š

```vue
<!-- ComponentA.vue -->
<script setup>
const { data: users, pending } = useAsyncData('users', fetchUsers)
</script>

<!-- ComponentB.vue -->
<script setup>
// è¿™å°†å¼•ç”¨ä¸ ComponentA ç›¸åŒçš„æ•°æ®çŠ¶æ€
const { data: users, status } = useAsyncData('users', fetchUsers)
// å½“ä»»ä¸€ç»„ä»¶åˆ·æ–°æ•°æ®æ—¶ï¼Œä¸¤ä¸ªç»„ä»¶éƒ½ä¼šä¿æŒä¸€è‡´æ›´æ–°
</script>
```

è¿™è§£å†³äº†ç»„ä»¶å¯èƒ½å­˜åœ¨ä¸ä¸€è‡´æ•°æ®çŠ¶æ€çš„å„ç§é—®é¢˜ã€‚

### å“åº”å¼é”®

ç°åœ¨æ‚¨å¯ä»¥ä½¿ç”¨è®¡ç®—çš„ refsã€æ™®é€š refs æˆ–è·å–å‡½æ•°ä½œä¸ºé”®ï¼š

```ts
const userId = ref('123')
const { data: user } = useAsyncData(
  computed(() => `user-${userId.value}`),
  () => fetchUser(userId.value)
)

// æ›´æ”¹ userId å°†è‡ªåŠ¨è§¦å‘æ–°çš„æ•°æ®è·å–
// å¦‚æœæ²¡æœ‰å…¶ä»–ç»„ä»¶åœ¨ä½¿ç”¨æ—§æ•°æ®ï¼Œåˆ™ä¼šæ¸…é™¤æ—§æ•°æ®
userId.value = '456'
```

### ä¼˜åŒ–æ•°æ®é‡æ–°è·å–

å¤šä¸ªç»„ä»¶ç›‘è§†ç›¸åŒæ•°æ®æºæ—¶ï¼Œå½“ä¾èµ–é¡¹æ›´æ”¹æ—¶ç°åœ¨åªä¼šè§¦å‘ä¸€æ¬¡æ•°æ®è·å–ï¼š

```ts
// åœ¨å¤šä¸ªç»„ä»¶ä¸­ï¼š
const { data } = useAsyncData(
  'users', 
  () => $fetch(`/api/users?page=${route.query.page}`),
  { watch: [() => route.query.page] }
)

// å½“ route.query.page æ›´æ”¹æ—¶ï¼Œä»…ä¼šå‘ç”Ÿä¸€æ¬¡è·å–æ“ä½œ
// æ‰€æœ‰ä½¿ç”¨æ­¤é”®çš„ç»„ä»¶å°†åŒæ—¶æ›´æ–°
```

## ğŸ­ å†…ç½® Nuxt ç»„ä»¶

### `<NuxtTime>` - å®‰å…¨æ—¶é—´æ˜¾ç¤ºçš„æ–°ç»„ä»¶

æˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªæ–°çš„ `<NuxtTime>` ç»„ä»¶ç”¨äº SSR å®‰å…¨çš„æ—¶é—´æ˜¾ç¤ºï¼Œè¯¥ç»„ä»¶è§£å†³äº†å¤„ç†æ—¥æœŸæ—¶çš„æ°´åˆä¸åŒ¹é…é—®é¢˜ ([#31876](https://github.com/nuxt/nuxt/pull/31876))ï¼š

```vue
<template>
  <NuxtTime :datetime="Date.now()" />
</template>
```

è¯¥ç»„ä»¶æ¥å—å¤šç§æ—¶é—´æ ¼å¼ï¼Œå¹¶ä¼˜é›…åœ°å¤„ç†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ¸²æŸ“ã€‚

### å¢å¼ºçš„ `<NuxtErrorBoundary>`

`<NuxtErrorBoundary>` ç»„ä»¶å·²è½¬å˜ä¸ºå•æ–‡ä»¶ç»„ä»¶ï¼Œç°åœ¨ä»ç»„ä»¶ä¸­æš´éœ² `error` å’Œ `clearError` - ä»¥åŠé”™è¯¯æ’æ§½ç±»å‹ï¼Œç»™æ‚¨æä¾›æ›´å¤§çš„èƒ½åŠ›åœ¨æ¨¡æ¿ä¸­å¤„ç†é”™è¯¯ï¼Œä»¥åŠé€šè¿‡ `useTemplateRef` å¤„ç†é”™è¯¯ ([#31847](https://github.com/nuxt/nuxt/pull/31847))ï¼š

```vue
<NuxtErrorBoundary @error="handleError">
  <template #error="{ error, clearError }">
    <div>
      <p>{{ error.message }}</p>
      <button @click="clearError">é‡è¯•</button>
    </div>
  </template>
  
  <!-- å¯èƒ½ä¼šå‡ºé”™çš„å†…å®¹ -->
  <MyComponent />
</NuxtErrorBoundary>
```

## ğŸ”— è·¯ç”±æ”¹è¿›

`<NuxtLink>` ç°åœ¨æ¥å— `trailingSlash` å±æ€§ï¼Œè®©æ‚¨å¯¹ URL æ ¼å¼æœ‰æ›´å¤šæ§åˆ¶ ([#31820](https://github.com/nuxt/nuxt/pull/31820))ï¼š

```vue
<NuxtLink to="/about" trailing-slash>å…³äº</NuxtLink>
<!-- å°†æ¸²æŸ“ <a href="/about/"> -->
```

## ğŸ”„ åŠ è½½æŒ‡ç¤ºå™¨è‡ªå®šä¹‰

ç°åœ¨æ‚¨å¯ä»¥ç›´æ¥åœ¨ç»„ä»¶ä¸Šç”¨æ–°å±æ€§è‡ªå®šä¹‰åŠ è½½æŒ‡ç¤ºå™¨ ([#31532](https://github.com/nuxt/nuxt/pull/31532))ï¼š

- `hideDelay`: æ§åˆ¶åœ¨éšè—åŠ è½½æ¡å‰ç­‰å¾…å¤šé•¿æ—¶é—´
- `resetDelay`: æ§åˆ¶åœ¨é‡ç½®åŠ è½½æŒ‡ç¤ºå™¨çŠ¶æ€å‰ç­‰å¾…å¤šé•¿æ—¶é—´

```vue
<template>
  <NuxtLoadingIndicator :hide-delay="500" :reset-delay="300" />
</template>
```

## ğŸ“š æ–‡æ¡£ä½œä¸ºåŒ…

Nuxt æ–‡æ¡£ç°åœ¨ä½œä¸º npm åŒ…å¯ç”¨ï¼æ‚¨å¯ä»¥å®‰è£… `@nuxt/docs` ä»¥è®¿é—®ç”¨äºæ„å»ºæ–‡æ¡£ç½‘ç«™çš„åŸå§‹ markdown å’Œ YAML å†…å®¹ ([#31353](https://github.com/nuxt/nuxt/pull/31353))ã€‚

## ğŸ’» å¼€å‘è€…ä½“éªŒæ”¹è¿›

æˆ‘ä»¬æ·»åŠ äº†å‡ ä¸ªè­¦å‘Šæ¥å¸®åŠ©æ•æ‰å¸¸è§é”™è¯¯ï¼š

- å½“æœåŠ¡å™¨ç»„ä»¶æ²¡æœ‰æ ¹å…ƒç´ æ—¶çš„è­¦å‘Š [#31365](https://github.com/nuxt/nuxt/pull/31365)
- å½“ä½¿ç”¨ä¿ç•™çš„ `runtimeConfig.app` å‘½åç©ºé—´æ—¶çš„è­¦å‘Š [#31774](https://github.com/nuxt/nuxt/pull/31774)
- å½“è¦†ç›–æ ¸å¿ƒè‡ªåŠ¨å¯¼å…¥é¢„è®¾æ—¶çš„è­¦å‘Š [#29971](https://github.com/nuxt/nuxt/pull/29971)
- å½“åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å¤šæ¬¡ä½¿ç”¨ `definePageMeta` æ—¶çš„é”™è¯¯ [#31634](https://github.com/nuxt/nuxt/pull/31634)

## ğŸ”Œ æ¨¡å—å¼€å‘å¢å¼º

æ¨¡å—ä½œè€…ä¼šå¾ˆé«˜å…´åœ°çŸ¥é“ï¼š

- æ–°çš„ `experimental.enforceModuleCompatibility` å…è®¸ Nuxt åœ¨åŠ è½½ä¸å…¼å®¹çš„æ¨¡å—æ—¶æŠ›å‡ºé”™è¯¯ ([#31657](https://github.com/nuxt/nuxt/pull/31657))ã€‚å®ƒå°†åœ¨ Nuxt v4 ä¸­é»˜è®¤å¯ç”¨ã€‚
- ç°åœ¨å¯ä»¥é€šè¿‡ `addComponentExports` è‡ªåŠ¨æ³¨å†Œä»æ–‡ä»¶å¯¼å‡ºçš„æ¯ä¸ªç»„ä»¶ [#27155](https://github.com/nuxt/nuxt/pull/27155)

## ğŸ”¥ æ€§èƒ½æ”¹è¿›

å·²è¿›è¡Œå¤šé¡¹æ€§èƒ½æ”¹è¿›ï¼š

- åˆ‡æ¢åˆ° `tinyglobby` ä»¥åŠ å¿«æ–‡ä»¶ Glob æ“ä½œ [#31668](https://github.com/nuxt/nuxt/pull/31668)
- æ’é™¤ `.data` ç›®å½•çš„ç±»å‹æ£€æŸ¥ä»¥åŠ å¿«æ„å»ºé€Ÿåº¦ [#31738](https://github.com/nuxt/nuxt/pull/31738)
- é€šè¿‡æå‡ `purgeCachedData` æ£€æŸ¥æ”¹è¿›æ ‘æ‘‡ [#31785](https://github.com/nuxt/nuxt/pull/31785)

## âœ… å‡çº§

æˆ‘ä»¬æ¨èçš„å‡çº§æ–¹æ³•æ˜¯è¿è¡Œï¼š

```sh
npx nuxi@latest upgrade --dedupe
```

è¿™å°†åˆ·æ–°æ‚¨çš„é”å®šæ–‡ä»¶å¹¶æ‹‰å–æ‰€æœ‰ Nuxt ä¾èµ–çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç‰¹åˆ«æ˜¯æ¥è‡ª unjs ç”Ÿæ€ç³»ç»Ÿçš„ä¾èµ–ã€‚

## å®Œæ•´å‘å¸ƒè¯´æ˜

::read-more
---
icon: i-simple-icons-github
target: _blank
to: https://github.com/nuxt/nuxt/releases/tag/v3.17.0
---
é˜…è¯» Nuxt `v3.17.0` çš„å®Œæ•´å‘å¸ƒè¯´æ˜ã€‚
::

éå¸¸æ„Ÿè°¢æ‰€æœ‰å‚ä¸æ­¤æ¬¡å‘å¸ƒçš„æ¯ä¸€ä¸ªäººã€‚â¤ï¸
