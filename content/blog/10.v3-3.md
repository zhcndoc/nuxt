---
title: 'Nuxt 3.3'
description: "3.3.0 æ˜¯ä¸€ä¸ªæ¬¡è¦ï¼ˆåŠŸèƒ½ï¼‰ç‰ˆæœ¬ï¼Œå…·æœ‰è®¸å¤šæ€§èƒ½å’Œ DX æ”¹è¿›ã€é”™è¯¯ä¿®å¤å’Œæ–°åŠŸèƒ½ä¾›æ‚¨ä½¿ç”¨ã€‚"
image: /assets/blog/v3-3.png
authors:
  - name: Daniel Roe
    avatar:
      src: https://avatar.ikxin.com/github/danielroe
    to: https://bsky.app/profile/danielroe.dev
date: 2023-03-14
category: Release
---

## âœ¨ æœ¬åœ°æ¨¡å—å¼€å‘ DX

æˆ‘ä»¬å·²ç»è¿›è¡Œäº†ä¸€ç³»åˆ—çš„æ›´æ”¹ï¼Œä»¥æ”¯æŒæœ¬åœ°æ¨¡å—å¹¶æ”¹å–„ DXã€‚

æˆ‘ä»¬ç°åœ¨ä¼šè‡ªåŠ¨æ‰«ææ‚¨çš„[`~/modules`](/docs/guide/directory-structure/modules) æ–‡ä»¶å¤¹ï¼Œå¹¶å°†å…¶ä¸­çš„é¡¶çº§æ–‡ä»¶æ³¨å†Œä¸ºé¡¹ç›®ä¸­çš„æ¨¡å—ï¼ˆ[#19394](https://github.com/nuxt/nuxt/pull/19394)ï¼‰ã€‚

å½“è¿™äº›æ–‡ä»¶å‘ç”Ÿæ›´æ”¹æ—¶ï¼Œæˆ‘ä»¬å°†è‡ªåŠ¨é‡æ–°å¯åŠ¨ nuxt æœåŠ¡å™¨ã€‚

```diff
export default defineNuxtConfig({
  modules: [
    '@nuxtjs/tailwindcss',
-   '~/modules/purge-comments'
  ]
})
```

æˆ‘ä»¬ç°åœ¨è¿˜å…¬å¼€äº† `nuxt/kit`ï¼Œä»¥ä¾¿æ‚¨åœ¨æœ¬åœ°é¡¹ç›®ä¸­è½»æ¾è®¿é—® kit ç»„åˆå‡½æ•°ï¼Œè€Œæ— éœ€å®‰è£… `@nuxt/kit`ï¼ˆ[#19422](https://github.com/nuxt/nuxt/pull/19422)ï¼‰ã€‚

[é˜…è¯»å…³äºæœ¬åœ°æ¨¡å—çš„æ–‡æ¡£](/docs/guide/directory-structure/modules)ã€‚

## â™»ï¸ é‡æ–°å¯åŠ¨ Nuxt

æ‚¨å¯ä»¥å°†æ–‡ä»¶æ·»åŠ åˆ° `watch` æ•°ç»„ä¸­ï¼Œä»¥è‡ªåŠ¨é‡æ–°å¯åŠ¨æœåŠ¡å™¨ï¼ˆ[#19530](https://github.com/nuxt/nuxt/pull/19530)ï¼‰ã€‚è¿™å¯¹äºæ¨¡å—ä½œè€…ç‰¹åˆ«æœ‰ç”¨ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨æ–°çš„ `restart` é’©å­è§¦å‘ Nuxt æœåŠ¡å™¨çš„é‡æ–°å¯åŠ¨ï¼ˆ[#19084](https://github.com/nuxt/nuxt/pull/19084)ï¼‰ã€‚

## ğŸ”¥ æ€§èƒ½æ”¹è¿›

æˆ‘ä»¬å°†é™æ€èµ„æºçš„ `maxAge` å¢åŠ åˆ° 1 å¹´ï¼Œä»¥ç¬¦åˆæœ€ä½³å®è·µï¼ˆ[#19335](https://github.com/nuxt/nuxt/pull/19335)ï¼‰å¹¶æ”¯æŒæ›´å¤šæ„å»ºä¸­çš„ Tree-shakingï¼ˆ[#19508](https://github.com/nuxt/nuxt/pull/19508)ï¼‰ã€‚

![nuxt-performance-improvements](https://user-images.githubusercontent.com/28706372/224999169-6c047cca-9a5c-4637-8e4d-be6268964e08.png)

æˆ‘ä»¬è¿˜å¼€å§‹æ”¯æŒä½¿ç”¨å¯¹è±¡è¯­æ³•é¢„åŠ è½½ [`<NuxtLink>`](/docs/api/components/nuxt-link) ä¸­çš„è·¯ç”±ï¼ˆ[#19120](https://github.com/nuxt/nuxt/pull/19120)ï¼‰ï¼š

```html
<NuxtLink :to="{ name: 'home', query: { year: '2023' } }">Home</NuxtLink>
```

æˆ‘ä»¬è¿˜ä¼šè·Ÿè¸ªæ‚¨ä½¿ç”¨çš„æ¯ä¸ªæ¨¡å—æ‰§è¡Œå…¶è®¾ç½®æ‰€éœ€çš„æ—¶é—´ï¼Œå¹¶åœ¨è®¾ç½®æ—¶é—´è¿‡é•¿æ—¶å‘å‡ºè­¦å‘Šã€‚æ‚¨å¯ä»¥é€šè¿‡åœ¨ dev æœåŠ¡å™¨ä¸Šè¿è¡Œ `DEBUG=1` æ¥æŸ¥çœ‹æ‰€æœ‰è¿™äº›å€¼ï¼ˆ[#18648](https://github.com/nuxt/nuxt/pull/18648)ï¼‰ã€‚

```sh
DEBUG=1 npx nuxt dev
â„¹ Module pages took 1.5ms to setup.
â„¹ Module meta took 3.15ms to setup
â„¹ Module components took 4.5ms to setup.
...
```

æ‚¨è¿˜å¯ä»¥é€šè¿‡é…ç½®ç»„åˆå‡½æ•°ä»¥åœ¨ç‰¹å®šç¯å¢ƒä¸­å¯ç”¨ä¸€äº› Nuxt çš„å†…éƒ¨ä¼˜åŒ–ï¼ˆ[#19383](https://github.com/nuxt/nuxt/pull/19383)ï¼‰ï¼Œæˆ–è€…è‡ªåŠ¨æ³¨å…¥é­”æœ¯é”®ï¼ˆ[#19490](https://github.com/nuxt/nuxt/pull/19490)ï¼‰ã€‚

## ğŸ› é”™è¯¯å¤„ç†

ç°åœ¨ï¼Œé»˜è®¤æƒ…å†µä¸‹æˆ‘ä»¬ä¼šå¤„ç†å—é”™è¯¯ï¼ˆ[#19086](https://github.com/nuxt/nuxt/pull/19086)ï¼‰ï¼Œè¿™æ„å‘³ç€å¦‚æœæ‚¨çš„ç«™ç‚¹åœ¨é‡æ–°éƒ¨ç½²æ—¶è¿›è¡Œæ›´æ–°ï¼Œ**æˆ‘ä»¬å°†è‡ªåŠ¨å¤„ç†å¯¼èˆªæ—¶çš„åˆ·æ–°**ã€‚

è¦ç¦ç”¨æ­¤è¡Œä¸ºï¼Œè¯·å°† `experimental.emitRouteChunkError` é€‰é¡¹è®¾ç½®ä¸º `"manual"` å¹¶ä½¿ç”¨æ–°çš„ [`reloadNuxtApp`](https://nuxt.com/docs/api/utils/reload-nuxt-app) ç»„åˆå‡½æ•°è‡ªè¡Œå¤„ç†ã€‚äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…æˆ‘ä»¬åœ¨ [chunk-reload.client.ts æ’ä»¶](https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/app/plugins/chunk-reload.client.ts) ä¸­çš„å®ç°æ–¹å¼ã€‚

æ‚¨è¿˜å¯ä»¥è®¾ç½® `experimental.restoreState` ä»¥åœ¨åˆ·æ–°æ—¶ä¿ç•™åº”ç”¨ç¨‹åºçš„ä¸€äº›çŠ¶æ€ï¼š

```ts [nuxt.config.ts]
defineNuxtConfig({
  experimental: {
    restoreState: true
  }
})
```

æˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªæ–°çš„è¯•éªŒæ€§é”™è¯¯å¤„ç†ç»„ä»¶ï¼š[`<NuxtClientFallback>`](/docs/api/components/nuxt-client-fallback) ï¼ˆ[#8216](https://github.com/nuxt/framework/pull/8216)ï¼‰ï¼Œå®ƒå¯ä»¥æ•è·æœåŠ¡å™¨ä¸Šçš„æ¸²æŸ“é”™è¯¯ï¼Œæ›¿æ¢ä¸ºåå¤‡å†…å®¹ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯ä¸Šç²¾ç¡®åœ°è§¦å‘é”™è¯¯éƒ¨åˆ†çš„é‡æ–°æ¸²æŸ“ã€‚è¿™å¯ä»¥ä½¿ç”¨ `experimental.clientFallback` æ¥å¯ç”¨ - æ¬¢è¿æä¾›åé¦ˆï¼

## âš¡ï¸ Head æ”¹è¿›

æˆ‘ä»¬å·²ç»è¿ç§»åˆ°ç›´æ¥ä½¿ç”¨ [unhead](https://github.com/unjs/unhead)ï¼ˆ[#19519](https://github.com/nuxt/nuxt/pull/19519)ï¼‰ - å¹¶ä¸”è‡ªåŠ¨ä»å®¢æˆ·ç«¯æ„å»ºä¸­åˆ é™¤ç±»ä¼¼ `useServerHead` è¿™æ ·çš„ä»…æœåŠ¡å™¨ç«¯ç‰¹å®šçš„ head ç»„åˆå‡½æ•°ï¼ˆ[#19576](https://github.com/nuxt/nuxt/pull/19576)ï¼‰ï¼Œè¿™æ„å‘³ç€æ‚¨å¯ä»¥æ‹¥æœ‰å‡ºè‰²çš„ SEOï¼Œè€Œæ— éœ€åœ¨å®¢æˆ·ç«¯æ„å»ºä¸­åŒ…å«ä»…å¯¹çˆ¬è™«ç›¸å…³çš„ meta æ ‡ç­¾é€»è¾‘ã€‚

è¿˜æœ‰ä¸€ä¸ªæ–°çš„ [`useHeadSafe`](/docs/api/composables/use-head-safe) ç»„åˆå‡½æ•°ï¼Œç”¨äºå¤„ç†ä¸å—ä¿¡ä»»çš„ç”¨æˆ·è¾“å…¥ï¼ˆ[#19548](https://github.com/nuxt/nuxt/pull/19548)ï¼‰ã€‚

## ğŸªµ æµè§ˆå™¨ DevTools ä¸­çš„æ›´å¥½æ—¥å¿—è®°å½•

ä¸ Chrome DevTools å›¢é˜Ÿåˆä½œï¼Œæˆ‘ä»¬åœ¨ unjs + Nuxt ç”Ÿæ€ç³»ç»Ÿä¸­å®ç°äº†ä¸€äº›åŠŸèƒ½ï¼Œç°åœ¨æˆ‘ä»¬æœ‰äº†å¯¹æ‚¨çš„æ—¥å¿—ä¸­çš„ Nuxt å†…éƒ¨å †æ ˆè·Ÿè¸ªçš„ä¸€æµæ”¯æŒï¼ˆä»…é™åŸºäº Chromium çš„æµè§ˆå™¨ï¼Œæš‚æ—¶ï¼‰[#19243](https://github.com/nuxt/nuxt/pull/19243)ã€‚æˆ‘ä»¬è¿˜æ”¹è¿›äº†ä¸ Nuxt é’©å­æœ‰å…³çš„å †æ ˆè·Ÿè¸ªé—®é¢˜ï¼ˆ[unjs/hookable#69](https://github.com/unjs/hookable/pull/69) å’Œ [unjs/hookable#68](https://github.com/unjs/hookable/pull/68)ï¼‰ï¼Œå®ç°äº† [`console.createTask`](https://developer.chrome.com/blog/devtools-modern-web-debugging/#linked-stack-traces)ã€‚

| ä¹‹å‰ | ä¹‹å |
| - | - |
| <img width="529" alt="before-nuxt-console-improvements" src="https://user-images.githubusercontent.com/28706372/220933126-56d9a0e5-e846-4958-a40a-e528a48bcb32.png"> | <img width="534" alt="after-nuxt-console-improvements" src="https://user-images.githubusercontent.com/28706372/220932932-932f193b-59a6-4385-8796-a62dcfd59c20.png"> |


## ğŸ’ª ç±»å‹æ”¹è¿›

ç°åœ¨æœåŠ¡å™¨ API è·¯ç”±çš„ç±»å‹æ›´åŠ å‡†ç¡® - è¿”å›ç±»å‹ä¸­å·²å‰¥ç¦»éå¯åºåˆ—åŒ–ç±»å‹ï¼ˆ[unjs/nitro#1002](https://github.com/unjs/nitro/pull/1002)ï¼‰ã€‚

æˆ‘ä»¬è¿˜å¢åŠ äº†å¯¹ `NuxtApp` çš„æ›´å¤šç±»å‹å®šä¹‰ï¼Œå¹¶æ­£ç¡®ä¸ºæœªçŸ¥æ³¨å…¥ç±»å‹è¿›è¡Œç±»å‹å®šä¹‰ï¼Œä»¥æä¾›æ›´é«˜çš„ç±»å‹å®‰å…¨æ€§ï¼ˆ[#19643](https://github.com/nuxt/nuxt/pull/19643)ï¼‰ã€‚

å¦‚æœåœ¨ä½¿ç”¨ Nuxt æ•°æ®è·å–ç»„åˆå‡½æ•°æ—¶é‡åˆ°ä½¿ç”¨ `transform` + `default` æ—¶çš„æ­£ç¡®ç±»å‹é—®é¢˜ï¼Œç°åœ¨æˆ‘ä»¬ä¼šæ­£ç¡®æ¨æ–­ç±»å‹ï¼ˆ[#19487](https://github.com/nuxt/nuxt/pull/19487)ï¼‰ï¼Œæ— éœ€å†æ‹…å¿ƒäº†ã€‚

## âš—ï¸ Nitro å¢å¼º

æ­¤ç‰ˆæœ¬é™„å¸¦ Nitro v2.3ï¼Œå¸¦æ¥äº†è®¸å¤šæ”¹è¿›ã€‚è¯·æŸ¥çœ‹ [å‘è¡Œè¯´æ˜](https://github.com/unjs/nitro/releases/tag/v2.3.0) ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚

æˆ‘ä»¬ç°åœ¨æ”¯æŒåœ¨ nitro æœåŠ¡å™¨è·¯ç”±ä¸­ä½¿ç”¨ [`useAppConfig`](/docs/api/composables/use-app-config)ï¼ˆ[#19489](https://github.com/nuxt/nuxt/pull/19489)ï¼‰ - è¿™æ˜¯ä¸€ä¸ªæœŸå¾…å·²ä¹…çš„å˜æ›´ã€‚ç°åœ¨ [`useAppConfig`](/docs/api/composables/use-app-config)åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­éƒ½å¯ä»¥ç”¨äºéè¿è¡Œæ—¶é…ç½®ï¼Œä¾‹å¦‚æ¥è‡ªå±‚ã€æ¨¡å—ç­‰ã€‚

æˆ‘ä»¬è¿˜æ·»åŠ äº†ä¸€ä¸ª `nitro:build:public-assets` é’©å­ï¼Œå…è®¸ä¿®æ”¹ä» nitro çš„é¢„æ¸²æŸ“/æ„å»ºé˜¶æ®µè¾“å‡ºçš„èµ„äº§ï¼ˆ[#19638](https://github.com/nuxt/nuxt/pull/19638)ï¼‰ã€‚

## ğŸ› ï¸ æ„å»ºå˜æ›´

ä½œä¸ºæœå‘ [å¯¹ PNP å’Œ pnpm æ”¯æŒçš„ä¸€æµæ”¯æŒ](https://github.com/nuxt/nuxt/issues/14146) çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬æ”¾å¼ƒäº†å¯¹ä¸€äº›å†…éƒ¨ï¼ˆå·²å¼ƒç”¨ï¼‰ä½¿ç”¨ CJS è§£ææ¨¡å¼çš„å·¥å…·çš„æ”¯æŒï¼ˆ[#19537](https://github.com/nuxt/nuxt/pull/19537) å’Œ [#19608](https://github.com/nuxt/nuxt/pull/19608)ï¼‰ã€‚

æˆ‘ä»¬ç°åœ¨è¿˜ä½¿ç”¨ ESM æœç´¢è·¯å¾„è§£æä¾èµ–é¡¹ï¼Œä¾‹å¦‚ `nuxt`ã€`@nuxt/kit` å’Œæ›´å¤šå…¶ä»–æ¨¡å—ã€‚æˆ‘ä»¬å°†å¯†åˆ‡å…³æ³¨æ­¤é—®é¢˜ã€‚

æˆ‘ä»¬è¿˜æ­£åœ¨ä¸ºæ”¯æŒæ–°çš„ TypeScript Node16 æ¨¡å—è§£æåšå‡†å¤‡ï¼ˆ[#19606](https://github.com/nuxt/nuxt/issues/19606)ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬å·²æ›´æ”¹äº†è¿è¡Œæ—¶è¾“å‡ºçš„æ ¼å¼ï¼ˆä½¿ç”¨ `.js` æ›¿ä»£ `.mjs` æ‰©å±•åï¼Œä¸ºå­è·¯å¾„å¯¼å‡ºæä¾› `types` å­—æ®µç­‰ï¼‰ã€‚

## ğŸ—ºï¸ è‡ªå®šä¹‰é…ç½®æ¨¡å¼ï¼ˆé«˜çº§ï¼‰

æˆ‘ä»¬ä¸€ç›´åœ¨æµ‹è¯•ä¸€ä¸ªå®éªŒæ€§åŠŸèƒ½ï¼Œå…è®¸æ¨¡å—å’Œç”¨æˆ·æ‰©å±• Nuxt é…ç½®æ¨¡å¼ï¼ˆ[#15592](https://github.com/nuxt/nuxt/issues/15592)ï¼‰ï¼Œæˆ‘ä»¬ç°åœ¨å·²ç»é»˜è®¤å¯ç”¨äº†è¿™ä¸ªåŠŸèƒ½ï¼ˆ[#19172](https://github.com/nuxt/nuxt/pull/19172)ï¼‰ã€‚æˆ‘ä»¬å¸Œæœ›è¿™å¯¹äºæ¨¡å—ã€å±‚å’Œä¸»é¢˜ä½œè€…ç‰¹åˆ«æœ‰ç”¨ï¼Œå¹¶ä¸ºä»–ä»¬çš„ç”¨æˆ·æä¾›æ›´å¥½çš„ DXã€‚

## æ›´æ–°æ—¥å¿—

é€šè¿‡[æ¯”è¾ƒæ›´æ”¹](https://github.com/nuxt/nuxt/compare/v3.2.3...v3.3.0)æŸ¥çœ‹å®Œæ•´çš„æ›´æ–°æ—¥å¿—ï¼Œæˆ–åœ¨ GitHub ä¸ŠæŸ¥çœ‹[å‘å¸ƒ](https://github.com/nuxt/nuxt/releases/tag/v3.3.0)ã€‚

æˆ‘ä»¬è¦æ„Ÿè°¢æ‰€æœ‰ 28 ä½è´¡çŒ®è€…å¯¹æœ¬æ¬¡å‘å¸ƒçš„å¸®åŠ© ğŸ’š
