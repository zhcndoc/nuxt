server {
  listen 80;
  server_name localhost;
  root /usr/share/nginx/html;
  index index.html;

  # 重定向规则
  location = /docs {
    return 301 /docs/getting-started/introduction;
  }
  location = /docs/getting-started {
    return 301 /docs/getting-started/introduction;
  }
  location = /docs/guide/concepts {
    return 301 /docs/guide/concepts/auto-imports;
  }
  location = /docs/guide/directory-structure {
    return 301 /docs/guide/directory-structure/app;
  }
  location = /docs/guide/going-further {
    return 301 /docs/guide/going-further/experimental-features;
  }
  location = /docs/guide/going-further/edge-release-channel {
    return 301 /docs/guide/going-further/nightly-release-channel;
  }
  location = /docs/bridge {
    return 301 /docs/bridge/overview;
  }
  location = /docs/migration {
    return 301 /docs/migration/overview;
  }
  location = /docs/api/components {
    return 301 /docs/api/components/client-only;
  }
  location = /docs/api/composables {
    return 301 /docs/api/composables/use-app-config;
  }
  location = /docs/api/utils {
    return 301 /docs/api/utils/dollarfetch;
  }
  location = /docs/api/kit {
    return 301 /docs/api/kit/modules;
  }
  location = /docs/api/commands {
    return 301 /docs/api/commands/dev;
  }
  location = /docs/api/advanced {
    return 301 /docs/api/advanced/hooks;
  }
  location = /docs/api/configuration/nuxt-config {
    return 301 /docs/api/nuxt-config;
  }
  location = /docs/examples {
    return 301 /docs/examples/hello-world;
  }
  location = /docs/examples/features {
    return 301 /docs/examples/features/auto-imports;
  }
  location = /docs/examples/routing {
    return 301 /docs/examples/routing/middleware;
  }
  location = /docs/examples/advanced {
    return 301 /docs/examples/advanced/config-extends;
  }
  location = /docs/examples/experimental {
    return 301 /docs/examples/experimental/wasm;
  }
  location = /docs/community {
    return 301 /docs/community/getting-help;
  }
  location = /docs/community/nuxt-community {
    return 301 /docs/community/getting-help;
  }
  location = /docs/guide/recipes {
    return 301 /docs/guide/recipes/custom-routing;
  }
  location = /docs/guide/going-further/custom-routing {
    return 301 /docs/guide/recipes/custom-routing;
  }
  location = /enterprise {
    return 301 /enterprise/support;
  }

  # 处理所有其他请求
  location / {
    try_files $uri $uri/ /index.html;
  }

  # 静态文件缓存
  location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
    expires 30d;
    add_header Cache-Control "public, no-transform";
  }
}
